<!DOCTYPE html>
<html lang="en">

    <head>

        <meta charset="utf-8">
        <meta http-equiv="X-UA-Compatible" content="IE=edge">
        <meta name="viewport" content="width=device-width, initial-scale=1">

        <meta name="description" content="">
        <meta name="author" content="">
        <link rel="icon" href="../../favicon.ico">

        <title>Welcome to RestaurantApp!</title>

        <!-- bootstrap css -->
        <link href="bootstrap-3.3.6-dist/css/bootstrap.min.css" rel="stylesheet">
        <link href="carousel.css" rel="stylesheet">

    </head>

    <!-- navbar
    ================================================== -->
      <body>
        <div class="navbar-wrapper">
          <div class="container">

            <nav class="navbar navbar-inverse navbar-static-top">
              <div class="container">
                <div class="navbar-header">
                  <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false" aria-controls="navbar">
                    <span class="sr-only">Toggle navigation</span>
                    <span class="icon-bar"></span>
                    <span class="icon-bar"></span>
                    <span class="icon-bar"></span>
                  </button>
                  <a class="navbar-brand">RestaurantApp</a>
                </div>
              </div>
            </nav>
          </div>
        </div>

    <!-- carousel
    ================================================== -->

    <div id="myCarousel" class="carousel slide" data-ride="carousel">

        <!-- indicators -->
        <ol class="carousel-indicators">

        <?php

            // open mysql
            $connection = new mysqli ("mysql.eecs.ku.edu", "jdrahoza", "Hello", "jdrahoza");

            // check connection
            if ($connection === false) {
                echo "connect failed";
                exit ();
            }

            // get table of restaurants
            $select = "SELECT * FROM Restaurants";
            $result = $connection -> query ($select);
            $num = $result -> num_rows;


            // create indicator for each restaurant
            for ($i = 0; $i < $num; $i++) {
                if ($i==0) {
                    echo "<li data-target='#myCarousel' data-slide-to='$i' class='active'></li>";
                } else {
                    echo "<li data-target='#myCarousel' data-slide-to='$i'></li>";
                };
            };

            // close mysql
            $connection -> close ();

        ?>

    </ol>

    <!-- slides -->
    <div class="carousel-inner" role="listbox">

        <?php

            // open mysql
            $connection = new mysqli ("mysql.eecs.ku.edu", "jdrahoza", "Hello", "jdrahoza");

            // check connection
            if ($connection === false) {
                echo "connect failed";
                exit ();
            }

            // get table of restaurants
            $select = "SELECT * FROM Restaurants";
            $result = $connection -> query ($select);
            $num = $result -> num_rows;


            // create slide for each restaurant
            for ($i = 0; $i < $num; $i++) {

                // get variables
                $row = $result -> fetch_assoc ();
                $rest_name = $row ["RestaurantName"];
                $image = $row ["Image"];
                $description = $row ["Description"];

                // active slide
                if ($i==0) {
                    echo "<div class='item active'>";
                    echo "<img class='slide' src='$image' alt='slide'>";
                    echo "<div class='container'>";
                    echo "<div class='carousel-caption'>";
                    echo "<h1>$rest_name</h1>";
                    echo "<p>$description</p>";
                    echo "<p><a class='btn btn-lg btn-primary' href='#' role='button'>log in now</a></p>";
                    echo "</div></div></div>";
                // other slides
                } else {
                    echo "<div class='item'>";
                    echo "<img class='slide' src='$image' alt='slide'>";
                    echo "<div class='container'>";
                    echo "<div class='carousel-caption'>";
                    echo "<h1>$rest_name</h1>";
                    echo "<p>$description</p>";
                    echo "<p><a class='btn btn-lg btn-primary' href='#' role='button'>log in now</a></p>";
                    echo "</div></div></div>";
                };

            };

            // close mysql
            $connection -> close ();

        ?>

    </div>

    <!-- slide controls -->
    <a class="left carousel-control" href="#myCarousel" role="button" data-slide="prev">
        <span class="glyphicon glyphicon-chevron-left" aria-hidden="true"></span>
        <span class="sr-only">Previous</span>
    </a>
    <a class="right carousel-control" href="#myCarousel" role="button" data-slide="next">
        <span class="glyphicon glyphicon-chevron-right" aria-hidden="true"></span>
        <span class="sr-only">Next</span>
    </a>

    </div>

    <!-- text features
    ================================================== -->
    <div class="container marketing">
        <div class="container">

            <!-- columns of text below the carousel -->
            <div class="row">

                <div class="col-lg-6">
                    <img class="img-circle" src="data:image/gif;base64,R0lGODlhAQABAIAAAHd3dwAAACH5BAAAAAAALAAAAAABAAEAAAICRAEAOw==" alt="Generic placeholder image" width="140" height="140">
                    <h2>Add Your Restaurant</h2>
                    <p>blah blah blah blah blah blah blah blah blah blah blah blah blah blah blah blah blah blah blah blah blah blah blah blah </p>
                    <p><a class="btn btn-default" href="#" role="button">View details &raquo;</a></p>
                </div>

                <div class="col-lg-6">
                    <img class="img-circle" src="data:image/gif;base64,R0lGODlhAQABAIAAAHd3dwAAACH5BAAAAAAALAAAAAABAAEAAAICRAEAOw==" alt="Generic placeholder image" width="140" height="140">
                    <h2>Learn More about Us</h2>
                    <p>blah blah blah blah blah blah blah blah blah blah blah blah blah blah blah blah blah blah blah blah blah blah blah blah </p>
                    <p><a class="btn btn-default" href="https://github.com/jdrahoz/Restaurant_App" role="button">View details &raquo;</a></p>
                </div>
            </div>

        </div>
    </div>

    <!-- Bootstrap core JavaScript
    ================================================== -->
    <!-- Placed at the end of the document so the pages load faster -->
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.12.2/jquery.min.js"></script>
    <script src="http://maxcdn.bootstrapcdn.com/bootstrap/3.3.6/js/bootstrap.min.js"></script>
    <script>window.jQuery || document.write('<script src="../../assets/js/vendor/jquery.min.js"><\/script>')</script>
    <script src="../../dist/js/bootstrap.min.js"></script>
    <!-- Just to make our placeholder images work. Don't actually copy the next line! -->
    <script src="../../assets/js/vendor/holder.min.js"></script>
    <!-- IE10 viewport hack for Surface/desktop Windows 8 bug -->
    <script src="../../assets/js/ie10-viewport-bug-workaround.js"></script>

  </body>
</html>
